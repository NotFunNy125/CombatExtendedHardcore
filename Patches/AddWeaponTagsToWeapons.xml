<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!--
    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_MachinePistol"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_IncendiaryLauncher"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_SmokeLauncher"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_EmpLauncher"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>
-->
    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_BoltActionRifle"]/weaponTags</xpath>
            <value>
                <li>SniperRifle</li>
            </value>
    </Operation>

    <!--
    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_PumpShotgun"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_ChainShotgun"]/weaponTags</xpath>
            <value>
                <li></li>
            </value>
    </Operation>
-->

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_HeavySMG"]/weaponTags</xpath>
            <value>
                <li>GunHeavy</li>
            </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_LMG"]/weaponTags</xpath>
            <value>
                <li>GunHeavy</li>
            </value>
    </Operation>

    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended Guns</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
                <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[
                        defName="CE_Gun_FlintlockMusket" or
                        defName="CE_Gun_WinchesterNintyFour"
						]/weaponTags</xpath>
					<value>
						<li>SniperRifle</li>
					</value>
				</li>

                <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[
                        defName="CE_Gun_USASTwelve" or
                        defName="CE_Gun_FNFAL" or
                        defName="CE_Gun_AKM" or
                        defName="CE_Gun_RPD" or
                        defName="CE_Gun_PKM" or
                        defName="CE_Gun_ChargeLMG"
						]/weaponTags</xpath>
					<value>
						<li>GunHeavy</li>
					</value>
				</li>
            </operations>
        </match>
    </Operation>

    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended Armory</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
                <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[
                        defName="CE_Gun_BigBoy" or
                        defName="CE_Gun_HenrySideGate" or
                        defName="CE_Gun_M1Garand" or
                        defName="CE_Gun_M1917Enfield" or
                        defName="CE_Gun_MosinNagant" or
                        defName="CE_Gun_SRTweintyFive" or
                        defName="CE_Gun_SKS" or
                        defName="CE_Gun_WinchesterEightySix"
						]/weaponTags</xpath>
					<value>
						<li>SniperRifle</li>
					</value>
				</li>

                <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[
                        defName="CE_Gun_Lewis" or
                        defName="CE_Gun_MSeven" or
                        defName="CE_Gun_MTwoFifty" or
                        defName="CE_Gun_MadsenLMG" or
                        defName="CE_Gun_MGThreeThreeEight" or
                        defName="CE_Gun_RPKSixteen"
						]/weaponTags</xpath>
					<value>
						<li>GunHeavy</li>
					</value>
				</li>
            </operations>
        </match>
    </Operation>

</Patch>